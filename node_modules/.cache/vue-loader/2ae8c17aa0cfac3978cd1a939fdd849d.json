{"remainingRequest":"/Users/yangjiahao/Desktop/ygapp/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!/Users/yangjiahao/Desktop/ygapp/src/views/manager/address/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjiahao/Desktop/ygapp/src/views/manager/address/List.vue","mtime":1578410811360},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0fSBmcm9tICcuLi8uLi8uLi9odHRwL2F4aW9zJwppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgYWRkcmVzc2VzOltdCiAgICB9CiAgfSwKICBjb21wdXRlZDp7ICAvLyDorqHnrpflsZ7mgKcKICAgIC8vIOWwhueKtuaAgeacuuS4reeahHVzZXLlr7nosaHkuK3nmoRpbmZv5a+56LGh6I635Y+W5YiwCiAgICAuLi5tYXBTdGF0ZSgidXNlciIsWyJpbmZvIl0pCiAgfSwKICBjcmVhdGVkKCl7CiAgICAvLyDosIPnlKjliqDovb3lnLDlnYDkv6Hmga/nmoTmlrnms5UKICAgIHRoaXMubG9hZEFkZHJlc3MoKTsKICB9LAogIG1ldGhvZHM6ewogICAgdG9EZWxldGV0SGFuZGxlcihlKXsgCiAgICAgICAgCiAgICAgICAgbGV0IHVybCA9ICIvYWRkcmVzcy9kZWxldGVCeUlkP2lkPSIrdGhpcy5hZGRyZXNzZXNbZV0uaWQ7CiAgICAgIGdldCh1cmwpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIHRoaXMubG9hZEFkZHJlc3MoKQogICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSkKICAgICAgfSkKICAgIH0sCiAgICAvLyDliqDovb3lvZPliY3pob7lrqLlnLDlnYDkv6Hmga8KICAgIGxvYWRBZGRyZXNzKCl7CiAgICAgIGxldCBpZCA9IHRoaXMuaW5mby5pZDsgIC8vIOWBh+ijheW9k+WJjeeUqOaIt2lk5Li6MjYKICAgICAgbGV0IHVybCA9ICIvYWRkcmVzcy9maW5kQnlDdXN0b21lcklkP2lkPSIraWQ7CiAgICAgIGdldCh1cmwpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgIHRoaXMuYWRkcmVzc2VzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkKICAgIH0sCiAgICAvLyDot7PovazliLDlnLDlnYDnvJbovpHpobXpnaLnmoTlpITnkIblh73mlbAKICAgIHRvQWRkcmVzc0VkaXRIYW5kbGVyKCl7CiAgICAgIC8vIOe8lueoi+i3s+i9rAogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21hbmFnZXIvYWRkcmVzc19lZGl0Iik7CiAgICB9LAogICAgdG9DaGFuZ2VIYW5kbGVyKGUpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDoiL21hbmFnZXIvYWRkcmVzc191cGRhdGUiLAogICAgICBxdWVyeTp7aWQ6dGhpcy5hZGRyZXNzZXNbZV0uaWR9fSk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/manager/address","sourcesContent":["<template>\n  <briup-fulllayout title=\"常用地址\">\n    <!-- {{addresses}} -->\n    <!-- {{info}} -->\n    <van-list>\n      <van-cell v-for=\"(item,index) in addresses\" \n        :key=\"item.id\"\n        :title=\"item.province+' '+item.city+' '+item.area+' '+item.address\">\n        <van-button type=\"danger\" @click=\"toDeletetHandler(index)\">删除</van-button> \n        <van-button type=\"warning\" @click=\"toChangeHandler(index)\">修改</van-button> \n      </van-cell>\n    </van-list>\n    <br>\n    <van-button block type=\"default\" @click=\"toAddressEditHandler\">添加</van-button>\n  </briup-fulllayout>\n</template>\n\n<script>\nimport {get} from '../../../http/axios'\nimport {mapState} from 'vuex'\nexport default {\n  data(){\n    return {\n      addresses:[]\n    }\n  },\n  computed:{  // 计算属性\n    // 将状态机中的user对象中的info对象获取到\n    ...mapState(\"user\",[\"info\"])\n  },\n  created(){\n    // 调用加载地址信息的方法\n    this.loadAddress();\n  },\n  methods:{\n    toDeletetHandler(e){ \n        \n        let url = \"/address/deleteById?id=\"+this.addresses[e].id;\n      get(url).then((response)=>{\n        this.loadAddress()\n        this.$toast.success(response.message)\n      })\n    },\n    // 加载当前顾客地址信息\n    loadAddress(){\n      let id = this.info.id;  // 假装当前用户id为26\n      let url = \"/address/findByCustomerId?id=\"+id;\n      get(url).then((response)=>{\n        this.addresses = response.data;\n      })\n    },\n    // 跳转到地址编辑页面的处理函数\n    toAddressEditHandler(){\n      // 编程跳转\n      this.$router.push(\"/manager/address_edit\");\n    },\n    toChangeHandler(e){\n      this.$router.push({path:\"/manager/address_update\",\n      query:{id:this.addresses[e].id}});\n    }\n  }\n}\n</script>"]}]}