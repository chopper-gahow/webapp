{"remainingRequest":"/Users/yangjiahao/Desktop/ygapp/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!/Users/yangjiahao/Desktop/ygapp/src/views/manager/Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjiahao/Desktop/ygapp/src/views/manager/Order.vue","mtime":1578403502323},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjiahao/Desktop/ygapp/node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IHtnZXR9IGZyb20gJy4uLy4uL2h0dHAvYXhpb3MnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6MCwKICAgICAgb3JkZXJzOltdLAogICAgICBzdGF0dXM6bnVsbAogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoInVzZXIiLFsiaW5mbyJdKQogIH0sCiAgY3JlYXRlZCgpewogICAgdGhpcy5sb2FkT3JkZXJzKCk7CiAgfSwKICBtZXRob2RzOnsKICAgIC8vIOeCueWHu3RhYueahOaXtuWAmeaJp+ihjOeahOWbnuiwg+WHveaVsAogICAgdGFiQ2xpY2tIYW5kbGVyKG5hbWUsdGl0bGUpewogICAgICAvLyDkv67mlLnlvZPliY1kYXRh5Litc3RhdHVz55qE5YC877ybIOmHjeaWsOWKoOi9veiuouWNlQogICAgICB0aGlzLnN0YXR1cyA9IHRpdGxlID09PSAi5YWo6YOoIiA/IG51bGwgOiB0aXRsZTsKICAgICAgdGhpcy5sb2FkT3JkZXJzKCk7CiAgICB9LAogICAgLy8g5Yqg6L295oiR55qE6K6i5Y2VCiAgICBsb2FkT3JkZXJzKCl7CiAgICAgIGxldCB1cmwgPSAiL29yZGVyL3F1ZXJ5IjsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBjdXN0b21lcklkOnRoaXMuaW5mby5pZCwKICAgICAgICBzdGF0dXM6dGhpcy5zdGF0dXMKICAgICAgfQogICAgICBnZXQodXJsLHBhcmFtcykudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgdGhpcy5vcmRlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views/manager","sourcesContent":["<template>\n  <div class=\"order\">\n    <van-nav-bar title=\"我的订单\" />\n    <van-tabs @click=\"tabClickHandler\" v-model=\"active\" color=\"#1659a0\">\n      <van-tab title=\"全部\"></van-tab>\n      <van-tab title=\"待派单\"></van-tab>\n      <van-tab title=\"待接单\"></van-tab> \n      <van-tab title=\"待服务\"></van-tab> \n      <van-tab title=\"待确认\"></van-tab> \n      <van-tab title=\"已完成\"></van-tab>\n    </van-tabs>\n    <!-- 订单 -->\n    <div>\n      <briup-order-item \n        v-for=\"o in orders\" \n        :key=\"o.id\" \n        :data=\"o\">\n      </briup-order-item>\n    </div>      \n\n\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport {get} from '../../http/axios'\nexport default {\n  data(){\n    return {\n      active:0,\n      orders:[],\n      status:null\n    }\n  },\n  computed:{\n    ...mapState(\"user\",[\"info\"])\n  },\n  created(){\n    this.loadOrders();\n  },\n  methods:{\n    // 点击tab的时候执行的回调函数\n    tabClickHandler(name,title){\n      // 修改当前data中status的值； 重新加载订单\n      this.status = title === \"全部\" ? null : title;\n      this.loadOrders();\n    },\n    // 加载我的订单\n    loadOrders(){\n      let url = \"/order/query\";\n      let params = {\n        customerId:this.info.id,\n        status:this.status\n      }\n      get(url,params).then((response)=>{\n        this.orders = response.data;\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.order {\n  background: #f1f1f1;\n}\n</style>"]}]}